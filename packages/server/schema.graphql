input PlayerInput {
	id: Int!
	active: Boolean!
	name: String
}

input CreateGameInput {
	name: String!
	size: Int!
	template: String!
	players: [PlayerInput]
}

input StartGameInput {
	gameId: String!
}

input ClaimPlayerInput {
	gameId: String!
	playerId: String!
}

input PlayTurnInput {
	gameId: String!
}

input CheckoutTileInput {
	gameId: String!
	tileId: String!
}

type Player {
	name: String!
	id: String!
	status: String!
	userId: String
	score: Int
	moves: Int
	pairs: Int
}

type PlayerTurn {
	name: String!
	id: String!
	turn: Int
	tileRef: String
	userId: String
}

type Tile {
	id: Int
	ref: String
	status: String
	owner: String
}

type Board {
	gridX: Int
	gridY: Int
}

type Game {
	id: String!
	createdAt: String!
	updatedAt: String!
	startedAt: String
	owner: String!
	name: String!
	teams: Int!
	status: String!
	template: String
	board: Board
	playerTurn: PlayerTurn
	players: [Player]
	tiles: [Tile]
	moves: Int
}

type Templates {
	id: String
	name: String
	tiles: Int
	board: [Int]
}

type User {
	id: String!
	username: String!
	createdAt: String!
}

type Query {
	whoAmI: User
	templates: [Templates]
	getUser(userId: String!): User
	getGame(gameId: String!): Game
}

type Mutation {
	startGame(input: StartGameInput!): Game
	createGame(input: CreateGameInput!): Game
	claimPlayer(input: ClaimPlayerInput!): Game
	checkoutTile(input: CheckoutTileInput!): Game
	playTurn(input: PlayTurnInput!): Game
}

type Subscription {
	gameUpdated(id: String!): Game @aws_subscribe(mutations: ["claimPlayer", "checkoutTile", "playTurn", "startGame"])
}

schema {
	query: Query
	mutation: Mutation
	subscription: Subscription
}
